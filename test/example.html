<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../node_modules/mocha/mocha.css"/>
    <title></title>
</head>
<body>

<div id="mocha"></div>

<div data-screen>
    <div data-region="header">
        <div data-element=""></div>
    </div>
    <div data-region="sidebar"></div>
    <div data-region="main"></div>
</div>

<script type="text/javascript" src="../matchbox-ui.debug.js"></script>
<script type="text/javascript" src="../node_modules/mocha/mocha.js"></script>
<script type="text/javascript" src="../node_modules/chai/chai.js"></script>
<script type="text/javascript">
    mocha.setup("bdd")
</script>
<script type="text/javascript">
    !function (ui, assert) {
        var Region = ui.Region
        var Screen = ui.Screen

        describe("ui", function () {
            it("works", function () {
                var Header = Region.extend({
                    constructor: function Header(element) {
                        Header.Super.call(this, element)
                    }
                })

                var Sidebar = Region.extend({
                    layouts: {
                        horizontal: function (previous) {
                        },
                        vertical: function (previous) {
                        }
                    },
                    constructor: function Sidebar(element) {
                        Sidebar.Super.call(this, element)
                    }
                })

                var App = Screen.extend({
                    regions: {
                        header: Header,
                        sidebar: Sidebar,
                        main: {}
                    },
                    constructor: function App() {
                        App.Super.call(this)
                        this.header = this.findRegion("header")
                        this.header.visible = true
                        this.sidebar = this.findRegion("sidebar")
                        this.main = this.findRegion("main")
                        this.sidebar.changeLayout("horizontal").then(function () {
                        })
                    }
                })

                var screen = new App()
                assert.instanceOf(screen.header, Header)
                assert.instanceOf(screen.sidebar, Sidebar)
                assert.instanceOf(screen.main, Region)
            })
        })
    }(window.matchboxUi, window.chai.assert)
</script>
<script type="text/javascript">
    mocha.run()
</script>
</body>
</html>
